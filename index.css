@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply antialiased text-gray-800;
  }
}

/* A4ページ表示用の基本スタイル */
.a4-page {
  width: 210mm;
  height: 297mm;
  background: white;
  box-shadow: 0 0 30px rgba(0,0,0,0.15);
  position: relative;
  overflow: hidden;
  flex-shrink: 0;
}

/* レスポンシブ対応：スマホで見るときにA4を縮小してフィットさせる */
.responsive-a4-wrapper {
  width: 210mm;
  height: 297mm;
  margin-bottom: 2rem;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  flex-shrink: 0;
}

@media (max-width: 860px) { /* A4の幅約794px + 余白 */
  .responsive-a4-wrapper {
    /* 画面幅に合わせてコンテナサイズを調整 */
    width: calc(100vw - 2rem);
    height: calc((100vw - 2rem) * (297 / 210));
    margin-bottom: 1rem;
    overflow: hidden; /* はみ出しを隠す */
    position: relative;
  }
  
  .a4-page {
    /* 中央を起点にスケールさせる */
    transform: scale(calc((100vw - 2rem) / 210mm));
    transform-origin: top center;
    box-shadow: 0 0 15px rgba(0,0,0,0.1);
    
    /* 
       A4(210mm)はスマホ幅より広いため、
       flexのjustify-centerだけでは左端が画面外に行く場合があります。
       そのため強制的に中央に配置します。
    */
    position: absolute;
    left: 50%;
    margin-left: -105mm; /* 210mmの半分 */
  }
}

@media print {
  .responsive-a4-wrapper {
    width: 210mm !important;
    height: 297mm !important;
    margin: 0 !important;
    padding: 0 !important;
    display: block !important;
    overflow: visible !important;
  }
  .a4-page {
    position: static !important;
    transform: none !important;
    box-shadow: none !important;
    margin: 0 !important;
    border: none !important;
    left: auto !important;
  }
}
